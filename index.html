<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The King's Trial</title>
    <style>
        body {
            background: url('screen-1.jpg') no-repeat center center/cover;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .clickable-area {
            position: absolute;
            top: 65%; /* Регулируй в зависимости от позиции кнопки на фоне */
            left: 50%;
            width: 400px; /* Примерный размер кнопки */
            height: 60px;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }
        .particle {
            position: absolute;
            width: 5px;
            height: 5px;
            background: rgba(255, 204, 0, 0.8); /* Желтый цвет */
            border-radius: 50%;
            opacity: 0;
            animation: fall 5s infinite;
        }
        @keyframes fall {
            0% {
                transform: translateY(-100vh);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateY(100vh);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="clickable-area" onclick="startTrial()"></div>
    <audio id="bg-music" loop autoplay>
        <source src="music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <script>
        function startTrial() {
            window.location.href = 'game.html'; // Перенаправление на страницу с игрой
        }

        function createParticles() {
            for (let i = 0; i < 30; i++) {
                let particle = document.createElement('div');
                particle.classList.add('particle');
                document.body.appendChild(particle);
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * -100 + 'vh';
                particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
                particle.style.animationDelay = (Math.random() * 5) + 's';
            }
        }
        createParticles();

        document.addEventListener('click', function() {
            let audio = document.getElementById('bg-music');
            if (audio.paused) {
                audio.play();
            }
        });
    </script>
</body>
</html>
import React, { useState, useEffect } from "react";
import "./styles.css";

const screens = [
  "screen-1.jpg",
  "screen-2.jpg",
  "screen-3.jpg",
  "screen-4.jpg",
  "screen-5.jpg",
  "screen-win.jpg",
  "screen-loose.jpg"
];

const correctAnswers = [
  "option2", // screen-3: help the peasants with grain
  "option3", // screen-4: set a trap
  "option2"  // screen-5: attempt to sway them
];

export default function App() {
  const [currentScreen, setCurrentScreen] = useState(0);
  const [selectedAnswers, setSelectedAnswers] = useState([]);
  
  useEffect(() => {
    if (currentScreen === 6) {
      setTimeout(() => setCurrentScreen(1), 2000);
    }
  }, [currentScreen]);

  const handleNextScreen = (option) => {
    if (currentScreen === 1) {
      setCurrentScreen(2);
    } else if (currentScreen >= 2 && currentScreen <= 4) {
      const newAnswers = [...selectedAnswers, option];
      setSelectedAnswers(newAnswers);
      if (newAnswers.length === correctAnswers.length) {
        const isWin = newAnswers.every((answer, index) => answer === correctAnswers[index]);
        setCurrentScreen(isWin ? 5 : 6);
        setSelectedAnswers([]);
      } else {
        setCurrentScreen(currentScreen + 1);
      }
    }
  };

  return (
    <div className="game-container" style={{ backgroundImage: `url(${screens[currentScreen]})` }}>
      {currentScreen === 0 && (
        <button className="hidden-button" onClick={() => setCurrentScreen(1)}></button>
      )}
      {currentScreen === 1 && (
        <button className="hidden-button" onClick={() => handleNextScreen()}></button>
      )}
      {(currentScreen >= 2 && currentScreen <= 4) && (
        <div className="options">
          <button onClick={() => handleNextScreen("option1")}>Option 1</button>
          <button onClick={() => handleNextScreen("option2")}>Option 2</button>
          <button onClick={() => handleNextScreen("option3")}>Option 3</button>
        </div>
      )}
    </div>
  );
}
