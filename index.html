import { useEffect } from "react";

export default function Home() {
  useEffect(() => {
    const createParticle = () => {
      const particle = document.createElement("div");
      particle.classList.add("particle");
      document.body.appendChild(particle);
      
      const size = Math.random() * 5 + 2 + "px";
      particle.style.width = size;
      particle.style.height = size;
      particle.style.left = Math.random() * window.innerWidth + "px";
      
      setTimeout(() => {
        particle.remove();
      }, 8000); // Живет 8 секунд
    };
    
    const interval = setInterval(createParticle, 200);
    return () => clearInterval(interval);
  }, []);
  
  const playMusic = () => {
    const audio = document.getElementById("background-music");
    if (audio.paused) {
      audio.play();
    }
  };
  
  return (
    <div className="container" onClick={playMusic}>
      <audio id="background-music" src="/music.mp3"></audio>
      <div className="button-area"></div>
      <style jsx>{`
        .container {
          position: relative;
          width: 100vw;
          height: 100vh;
          background: url("/screen-1.jpg") no-repeat center center;
          background-size: cover;
        }
        .button-area {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 200px;
          height: 50px;
          transform: translate(-50%, -50%);
          cursor: pointer;
        }
        .particle {
          position: fixed;
          background: rgba(255, 223, 100, 0.8);
          border-radius: 50%;
          opacity: 0.8;
          bottom: 100%;
          animation: fall 10s linear infinite; /* Снижена скорость падения */
        }
        @keyframes fall {
          from {
            transform: translateY(0);
            opacity: 1;
          }
          to {
            transform: translateY(100vh);
            opacity: 0;
          }
        }
      `}</style>
    </div>
  );
}
